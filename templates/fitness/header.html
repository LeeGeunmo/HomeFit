<!DOCTYPE html>
<html>
    <head>
        {% load static %}
        <title>HomeFit</title>
        <link rel="stylesheet" type="text/css" href="{% static 'css/header.css' %}"></link>
    </head>
    <body>
        <header class="grid">
            <a href="/">HomeFit</a>
            <nav class="dropdown_fitness">
                <div class="fitness">
                    <a>fitness</a>
                </div>
                <div class="dropdown-content-fitness" style="display: none;">
                    <a href="{% url "fitness:selectRoutine" %}">운동루틴</a>
                    <a href="{% url "fitness:stat" %}">운동통계분석</a>
                </div>
            </nav>
            <nav class="dropdown_community">
                <div class="community">
                    <a>community</a>
                </div>
                <div class="dropdown-content-community" style="display: none;">
                    <a href="{% url "community:main" %}">커뮤니티</a>
                </div>
            </nav>
            <nav class="dropdown_mypage">
                <div class="my-page">
                    <img src="{% static "img/main/arrow-down.svg" %}">
                </div>
                <div class="dropdown-content-mypage" style="display: none;">
                    {% if request.user.is_authenticated %}
                        <a>{{request.user}}님 안녕하세요!</a>
                        <hr>
                        <a href="{% url "user:mypage" %}">MyPage</a>
                        <a href="{% url "user:logout" %}">Logout</a>
                    {% else %}
                        <a href="{% url "user:signup" %}">Signup</a>
                        <a href="{% url "user:login" %}">Login</a>
                    {% endif %}
                </div>
            </nav>
        </header>
        <script>
            btn1 = document.getElementsByClassName('dropdown_mypage')[0];
            btn1.addEventListener('click', function(e) {
                e.stopPropagation()
                var dropdown = document.querySelector('.dropdown-content-mypage');
                dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
                document.querySelector('.dropdown-content-fitness').style.display = 'none';
                document.querySelector('.dropdown-content-community').style.display = 'none';
            });

            btn2 = document.getElementsByClassName('dropdown_fitness')[0];
            btn2.addEventListener('click', function(e) {
                e.stopPropagation()
                var dropdown = document.querySelector('.dropdown-content-fitness');
                dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
                document.querySelector('.dropdown-content-community').style.display = 'none';
                document.querySelector('.dropdown-content-mypage').style.display = 'none';
            });

            btn3 = document.getElementsByClassName('dropdown_community')[0];
            btn3.addEventListener('click', function(e) {
                e.stopPropagation()
                var dropdown = document.querySelector('.dropdown-content-community');
                dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
                document.querySelector('.dropdown-content-fitness').style.display = 'none';
                document.querySelector('.dropdown-content-mypage').style.display = 'none';
            });

            document.addEventListener('click', function(e) {
                e.stopPropagation()
                var dropdown1 = document.querySelector('.dropdown-content-fitness');
                var dropdown2 = document.querySelector('.dropdown-content-community');
                var dropdown3 = document.querySelector('.dropdown-content-mypage');
                dropdown1.style.display = 'none';
                dropdown2.style.display = 'none';
                dropdown3.style.display = 'none';
            });
        </script>
    </body>

</html>